<div class="personagens-header">
  <h2>Personagens</h2>
  <button mat-raised-button color="primary" (click)="servico.carregarPersonagens()">
    Carregar
  </button>
</div>

<div class="personagens-container">
  <mat-grid-list [cols]="cols" gutterSize="16">
    <mat-grid-tile *ngFor="let personagem of servico.todos()">
      <mat-card
        class="personagem-card"
        (click)="abrirDetalhe(personagem)"
      >
      <img mat-card-image [src]="personagem.image" [alt]="personagem.name" />
      <mat-card-title>{{ personagem.name }}</mat-card-title>
      <mat-card-subtitle>{{ personagem.status }}</mat-card-subtitle>
      <mat-card-content>{{ personagem.species }}</mat-card-content>
      <button
        mat-button
        color="primary"
        [routerLink]="['/editar', personagem.id]"
        (click)="$event.stopPropagation()"
        *ngIf="personagem.id >= 10000"
      >
        Editar
      </button>
      <button
        mat-button
        color="warn"
        (click)="excluir(personagem); $event.stopPropagation()"
      >
        {{ personagem.id >= 10000 ? 'Excluir' : 'Bloquear' }}
      </button>
    </mat-card>
  </mat-grid-tile>
</mat-grid-list>
</div>
<mat-paginator
  class="paginator"
  [length]="servico.totalCount()"
  [pageSize]="20"
  (page)="onPage($event)"
></mat-paginator>
